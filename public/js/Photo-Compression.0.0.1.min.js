/*!
 *  Photo-Compression.js v0.0.1 (https://github.com/zhetengbiji/Photo-Compression.js)
 *  作者微博：折腾笔记
  */
function compressImage(e,k,a){function g(a){var f=new Image;f.onload=function(){var c,d;c=f.width*b.scale;d=f.height*b.scale;b.maxWidth&&(d*=b.maxWidth/c,c=b.maxWidth);b.maxHeight&&(c*=b.maxHeight/d,d=b.maxHeight);var h=document.createElement("canvas"),g=h.getContext("2d");h.width=c;h.height=d;g.drawImage(f,0,0,c,d);c=h.toDataURL("image/jpeg",b.quality);"object"===typeof e&&window.webkitURL.revokeObjectURL(a);"function"===typeof k&&k(c)};f.src=a}var b={quality:.8,scale:1};a&&(b={quality:a.quality||.8,maxWidth:a.maxWidth,maxHeight:a.maxHeight,scale:a.scale||1});"object"===typeof e?(a=window.webkitURL.createObjectURL(e),g(a)):"string"===typeof e&&g(e)};